!function(){function r(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{h9W5:function(n,t,o){"use strict";o.r(t),o.d(t,"OrdersPageModule",function(){return w});var i=o("ofXK"),a=o("3Pt+"),c=o("TEn/"),u=o("tyNb"),s=o("fXoL");function l(r,e){if(1&r&&(s.Mb(0,"ion-label"),s.jc(1),s.Lb()),2&r){var n=s.Vb().$implicit;s.zb(1),s.lc(" + ",(null==n?null:n.recipesCount)-1,"")}}var b=function(){return["order-info"]},d=function(r){return{id:r}};function f(r,e){if(1&r&&(s.Mb(0,"ion-card",2),s.Mb(1,"ion-card-content"),s.Mb(2,"ion-list",3),s.Mb(3,"ion-item"),s.Mb(4,"ion-thumbnail",4),s.Kb(5,"ion-img",5),s.Lb(),s.jc(6),s.Kb(7,"br"),s.jc(8),s.Lb(),s.Mb(9,"ion-grid"),s.Mb(10,"ion-row"),s.Mb(11,"ion-col",6),s.Mb(12,"ion-label"),s.jc(13),s.Lb(),s.ic(14,l,2,1,"ion-label",0),s.Lb(),s.Mb(15,"ion-col",7),s.Mb(16,"ion-label"),s.jc(17),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()),2&r){var n=e.$implicit;s.ac("routerLink",s.cc(8,b))("queryParams",s.dc(9,d,n.orderId)),s.zb(5),s.ac("src",null==n?null:n.restaurantIcon),s.zb(1),s.lc(" ",null==n?null:n.restaurantName,""),s.zb(2),s.lc("",null==n?null:n.orderDate," "),s.zb(5),s.kc(null==n?null:n.recipes[0].name),s.zb(1),s.ac("ngIf",(null==n?null:n.recipesCount)>1),s.zb(3),s.lc("",null==n?null:n.orderPriceTotal," \u20ac")}}function p(r,e){if(1&r&&(s.Mb(0,"ion-content"),s.ic(1,f,18,11,"ion-card",1),s.Lb()),2&r){var n=s.Vb();s.zb(1),s.ac("ngForOf",n.orders)}}var m,h,I,g=[{path:"",component:(m=function(){function n(){r(this,n)}var t,o,i;return t=n,(o=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.loadOrdersCurrentUser()}},{key:"loadOrdersCurrentUser",value:function(){var r=this;this.orders=[];var e={orderId:0,restaurantName:"",recipes:[],recipesCount:0,orderPriceTotal:0,orderDate:"",restaurantIcon:""},n=JSON.parse(window.sessionStorage.getItem("ordersCurrentUser")),t=JSON.parse(window.sessionStorage.getItem("allRestaurants"));null!==n?(n.forEach(function(n){(e={orderId:0,restaurantName:"",recipes:[],recipesCount:0,orderPriceTotal:0,orderDate:"",restaurantIcon:""}).orderId=n.id;var o=t.filter(function(r){return r.id===parseInt(n.restaurantId,10)})[0];e.restaurantName=o.name,e.restaurantIcon=o.img;var i=o.recipes;i.filter(function(r){return r.id===parseInt(n.recipeId[0],10)}),e.recipes=r.setRecipes(n,i,e),e.recipesCount=n.recipeId.length,e.orderDate=n.date,r.orders.push(e)}),window.sessionStorage.setItem("ordersCurrentUserTrans",JSON.stringify(this.orders))):this.orders=null}},{key:"setRecipes",value:function(r,e,n){var t=[];return r.recipeId.forEach(function(r){var o=e.filter(function(e){return e.id===parseInt(r,10)})[0];n.orderPriceTotal+=o.price,t.push(o)}),t}}])&&e(t.prototype,o),i&&e(t,i),n}(),m.\u0275fac=function(r){return new(r||m)},m.\u0275cmp=s.Db({type:m,selectors:[["app-orders"]],decls:6,vars:1,consts:[[4,"ngIf"],[3,"routerLink","queryParams",4,"ngFor","ngForOf"],[3,"routerLink","queryParams"],["lines","none"],["slot","start"],[3,"src"],["size","10"],["size","2"]],template:function(r,e){1&r&&(s.Mb(0,"body"),s.Mb(1,"ion-header"),s.Mb(2,"ion-toolbar"),s.Mb(3,"ion-title"),s.jc(4,"Orders"),s.Lb(),s.Lb(),s.Lb(),s.ic(5,p,2,1,"ion-content",0),s.Lb()),2&r&&(s.zb(5),s.ac("ngIf",null!==e.orders))},directives:[c.o,c.D,c.C,i.j,c.m,i.i,c.g,c.H,u.h,c.h,c.u,c.s,c.B,c.q,c.n,c.w,c.l,c.t],styles:[""]}),m)},{path:"order-info",loadChildren:function(){return o.e(11).then(o.bind(null,"3RVE")).then(function(r){return r.OrderInfoPageModule})}}],v=((I=function e(){r(this,e)}).\u0275fac=function(r){return new(r||I)},I.\u0275mod=s.Hb({type:I}),I.\u0275inj=s.Gb({imports:[[u.i.forChild(g)],u.i]}),I),w=((h=function e(){r(this,e)}).\u0275fac=function(r){return new(r||h)},h.\u0275mod=s.Hb({type:h}),h.\u0275inj=s.Gb({imports:[[i.b,a.b,c.E,v]]}),h)}}])}();