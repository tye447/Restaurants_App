(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{h9W5:function(r,e,n){"use strict";n.r(e),n.d(e,"OrdersPageModule",function(){return m});var t=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),c=n("fXoL");function a(r,e){if(1&r&&(c.Mb(0,"ion-label"),c.jc(1),c.Lb()),2&r){const r=c.Vb().$implicit;c.zb(1),c.lc(" + ",(null==r?null:r.recipesCount)-1,"")}}const l=function(){return["order-info"]},u=function(r){return{id:r}};function d(r,e){if(1&r&&(c.Mb(0,"ion-card",2),c.Mb(1,"ion-card-content"),c.Mb(2,"ion-list",3),c.Mb(3,"ion-item"),c.Mb(4,"ion-thumbnail",4),c.Kb(5,"ion-img",5),c.Lb(),c.jc(6),c.Kb(7,"br"),c.jc(8),c.Lb(),c.Mb(9,"ion-grid"),c.Mb(10,"ion-row"),c.Mb(11,"ion-col",6),c.Mb(12,"ion-label"),c.jc(13),c.Lb(),c.ic(14,a,2,1,"ion-label",0),c.Lb(),c.Mb(15,"ion-col",7),c.Mb(16,"ion-label"),c.jc(17),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Lb()),2&r){const r=e.$implicit;c.ac("routerLink",c.cc(8,l))("queryParams",c.dc(9,u,r.orderId)),c.zb(5),c.ac("src",null==r?null:r.restaurantIcon),c.zb(1),c.lc(" ",null==r?null:r.restaurantName,""),c.zb(2),c.lc("",null==r?null:r.orderDate," "),c.zb(5),c.kc(null==r?null:r.recipes[0].name),c.zb(1),c.ac("ngIf",(null==r?null:r.recipesCount)>1),c.zb(3),c.lc("",null==r?null:r.orderPriceTotal," \u20ac")}}function b(r,e){if(1&r&&(c.Mb(0,"ion-content"),c.ic(1,d,18,11,"ion-card",1),c.Lb()),2&r){const r=c.Vb();c.zb(1),c.ac("ngForOf",r.orders)}}const p=[{path:"",component:(()=>{class r{constructor(){}ngOnInit(){}ionViewWillEnter(){this.loadOrdersCurrentUser()}loadOrdersCurrentUser(){this.orders=[];let r={orderId:0,restaurantName:"",recipes:[],recipesCount:0,orderPriceTotal:0,orderDate:"",restaurantIcon:""};const e=JSON.parse(window.sessionStorage.getItem("ordersCurrentUser")),n=JSON.parse(window.sessionStorage.getItem("allRestaurants"));null!==e?(e.forEach(e=>{r={orderId:0,restaurantName:"",recipes:[],recipesCount:0,orderPriceTotal:0,orderDate:"",restaurantIcon:""},r.orderId=e.id;const t=n.filter(r=>r.id===parseInt(e.restaurantId,10))[0];r.restaurantName=t.name,r.restaurantIcon=t.img;const o=t.recipes;o.filter(r=>r.id===parseInt(e.recipeId[0],10)),r.recipes=this.setRecipes(e,o,r),r.recipesCount=e.recipeId.length,r.orderDate=e.date,this.orders.push(r)}),window.sessionStorage.setItem("ordersCurrentUserTrans",JSON.stringify(this.orders))):this.orders=null}setRecipes(r,e,n){const t=[];return r.recipeId.forEach(r=>{const o=e.filter(e=>e.id===parseInt(r,10))[0];n.orderPriceTotal+=o.price,t.push(o)}),t}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=c.Db({type:r,selectors:[["app-orders"]],decls:6,vars:1,consts:[[4,"ngIf"],[3,"routerLink","queryParams",4,"ngFor","ngForOf"],[3,"routerLink","queryParams"],["lines","none"],["slot","start"],[3,"src"],["size","10"],["size","2"]],template:function(r,e){1&r&&(c.Mb(0,"body"),c.Mb(1,"ion-header"),c.Mb(2,"ion-toolbar"),c.Mb(3,"ion-title"),c.jc(4,"Orders"),c.Lb(),c.Lb(),c.Lb(),c.ic(5,b,2,1,"ion-content",0),c.Lb()),2&r&&(c.zb(5),c.ac("ngIf",null!==e.orders))},directives:[i.o,i.D,i.C,t.j,i.m,t.i,i.g,i.H,s.h,i.h,i.u,i.s,i.B,i.q,i.n,i.w,i.l,i.t],styles:[""]}),r})()},{path:"order-info",loadChildren:()=>n.e(11).then(n.bind(null,"3RVE")).then(r=>r.OrderInfoPageModule)}];let f=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=c.Hb({type:r}),r.\u0275inj=c.Gb({imports:[[s.i.forChild(p)],s.i]}),r})(),m=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=c.Hb({type:r}),r.\u0275inj=c.Gb({imports:[[t.b,o.b,i.E,f]]}),r})()}}]);