!function(){function r(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function e(r,e){for(var n=0;n<e.length;n++){var t=e[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}(self.webpackChunkionic_restaurants_app=self.webpackChunkionic_restaurants_app||[]).push([[1507],{6748:function(n,t,o){"use strict";o.r(t),o.d(t,{OrdersPageModule:function(){return q}});var i=o(1116),a=o(1462),u=o(8809),s=o(5860),c=o(8619);function l(r,e){if(1&r&&(c.TgZ(0,"ion-label"),c._uU(1),c.qZA()),2&r){var n=c.oxw().$implicit;c.xp6(1),c.hij(" + ",(null==n?null:n.recipesCount)-1,"")}}var d=function(){return["order-info"]},f=function(r){return{id:r}};function p(r,e){if(1&r&&(c.TgZ(0,"ion-card",2),c.TgZ(1,"ion-card-content"),c.TgZ(2,"ion-list",3),c.TgZ(3,"ion-item"),c.TgZ(4,"ion-thumbnail",4),c._UZ(5,"ion-img",5),c.qZA(),c._uU(6),c._UZ(7,"br"),c._uU(8),c.qZA(),c.TgZ(9,"ion-grid"),c.TgZ(10,"ion-row"),c.TgZ(11,"ion-col",6),c.TgZ(12,"ion-label"),c._uU(13),c.qZA(),c.YNc(14,l,2,1,"ion-label",0),c.qZA(),c.TgZ(15,"ion-col",7),c.TgZ(16,"ion-label"),c._uU(17),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&r){var n=e.$implicit;c.Q6J("routerLink",c.DdM(8,d))("queryParams",c.VKq(9,f,n.orderId)),c.xp6(5),c.Q6J("src",null==n?null:n.restaurantIcon),c.xp6(1),c.hij(" ",null==n?null:n.restaurantName,""),c.xp6(2),c.hij("",null==n?null:n.orderDate," "),c.xp6(5),c.Oqu(null==n?null:n.recipes[0].name),c.xp6(1),c.Q6J("ngIf",(null==n?null:n.recipesCount)>1),c.xp6(3),c.hij("",null==n?null:n.orderPriceTotal," \u20ac")}}function g(r,e){if(1&r&&(c.TgZ(0,"ion-content"),c.YNc(1,p,18,11,"ion-card",1),c.qZA()),2&r){var n=c.oxw();c.xp6(1),c.Q6J("ngForOf",n.orders)}}var Z,h,m=[{path:"",component:(Z=function(){function n(){r(this,n)}var t,o,i;return t=n,(o=[{key:"ngOnInit",value:function(){}},{key:"ionViewWillEnter",value:function(){this.loadOrdersCurrentUser()}},{key:"loadOrdersCurrentUser",value:function(){var r=this;this.orders=[];var e={orderId:0,restaurantName:"",recipes:[],recipesCount:0,orderPriceTotal:0,orderDate:"",restaurantIcon:""},n=JSON.parse(window.sessionStorage.getItem("ordersCurrentUser")),t=JSON.parse(window.sessionStorage.getItem("allRestaurants"));null!==n?(n.forEach(function(n){(e={orderId:0,restaurantName:"",recipes:[],recipesCount:0,orderPriceTotal:0,orderDate:"",restaurantIcon:""}).orderId=n.id;var o=t.filter(function(r){return r.id===parseInt(n.restaurantId,10)})[0];e.restaurantName=o.name,e.restaurantIcon=o.img;var i=o.recipes;i.filter(function(r){return r.id===parseInt(n.recipeId[0],10)}),e.recipes=r.setRecipes(n,i,e),e.recipesCount=n.recipeId.length,e.orderDate=n.date,r.orders.push(e)}),window.sessionStorage.setItem("ordersCurrentUserTrans",JSON.stringify(this.orders))):this.orders=null}},{key:"setRecipes",value:function(r,e,n){var t=[];return r.recipeId.forEach(function(r){var o=e.filter(function(e){return e.id===parseInt(r,10)})[0];n.orderPriceTotal+=o.price,t.push(o)}),t}}])&&e(t.prototype,o),i&&e(t,i),n}(),Z.\u0275fac=function(r){return new(r||Z)},Z.\u0275cmp=c.Xpm({type:Z,selectors:[["app-orders"]],decls:6,vars:1,consts:[[4,"ngIf"],[3,"routerLink","queryParams",4,"ngFor","ngForOf"],[3,"routerLink","queryParams"],["lines","none"],["slot","start"],[3,"src"],["size","10"],["size","2"]],template:function(r,e){1&r&&(c.TgZ(0,"body"),c.TgZ(1,"ion-header"),c.TgZ(2,"ion-toolbar"),c.TgZ(3,"ion-title"),c._uU(4,"Orders"),c.qZA(),c.qZA(),c.qZA(),c.YNc(5,g,2,1,"ion-content",0),c.qZA()),2&r&&(c.xp6(5),c.Q6J("ngIf",null!==e.orders))},directives:[u.Gu,u.sr,u.wd,i.O5,u.W2,i.sg,u.PM,u.YI,s.rH,u.FN,u.q_,u.Ie,u.Bs,u.Xz,u.jY,u.Nd,u.wI,u.Q$],styles:[""]}),Z)},{path:"order-info",loadChildren:function(){return o.e(9143).then(o.bind(o,9143)).then(function(r){return r.OrderInfoPageModule})}}],I=function(){var e=function e(){r(this,e)};return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(m)],s.Bz]}),e}(),q=((h=function e(){r(this,e)}).\u0275fac=function(r){return new(r||h)},h.\u0275mod=c.oAB({type:h}),h.\u0275inj=c.cJS({imports:[[i.ez,a.u5,u.Pc,I]]}),h)}}])}();